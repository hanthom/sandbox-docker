(function() {
  var redisCtrl;

  redisCtrl = require(__dirname + "/../controllers/redisCtrl");

  module.exports = function(app) {
    return app.route('/api/redis').post(function(req, res) {
      console.log(req.body);
      redisCtrl.postCache(req.body);
      return res.status(201).end();
    }).get(function(req, res) {
      return redisCtrl.getCache().then(function(allCache) {
        console.log("allCache", allCache);
        return res.status(200).send(allCache);
      })["catch"](function(err) {
        return console.log("ERROR", err, "RES", res);
      });
    });
  };

}).call(this);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLWFzc2V0cy9yb3V0ZXMvcmVkaXNSb3V0ZXMuanMiLCJzb3VyY2VzIjpbInNlcnZlci1hc3NldHMvcm91dGVzL3JlZGlzUm91dGVzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsU0FBQSxHQUFZLE9BQUEsQ0FBVyxTQUFELEdBQVcsMkJBQXJCOztFQUdaLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLFNBQUMsR0FBRDtXQUVmLEdBQUcsQ0FBQyxLQUFKLENBQVUsWUFBVixDQUNFLENBQUMsSUFESCxDQUNRLFNBQUMsR0FBRCxFQUFNLEdBQU47TUFDSixPQUFPLENBQUMsR0FBUixDQUFZLEdBQUcsQ0FBQyxJQUFoQjtNQUNBLFNBQVMsQ0FBQyxTQUFWLENBQW9CLEdBQUcsQ0FBQyxJQUF4QjthQUNBLEdBQ0UsQ0FBQyxNQURILENBQ1UsR0FEVixDQUVFLENBQUMsR0FGSCxDQUFBO0lBSEksQ0FEUixDQU9FLENBQUMsR0FQSCxDQU9PLFNBQUMsR0FBRCxFQUFNLEdBQU47YUFDSCxTQUFTLENBQUMsUUFBVixDQUFBLENBQ0UsQ0FBQyxJQURILENBQ1EsU0FBQyxRQUFEO1FBQ0osT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFaLEVBQXdCLFFBQXhCO2VBQ0EsR0FDRSxDQUFDLE1BREgsQ0FDVSxHQURWLENBRUUsQ0FBQyxJQUZILENBRVEsUUFGUjtNQUZJLENBRFIsQ0FNRSxFQUFDLEtBQUQsRUFORixDQU1TLFNBQUMsR0FBRDtlQUNMLE9BQU8sQ0FBQyxHQUFSLENBQVksT0FBWixFQUFxQixHQUFyQixFQUEwQixLQUExQixFQUFpQyxHQUFqQztNQURLLENBTlQ7SUFERyxDQVBQO0VBRmU7QUFIakIiLCJzb3VyY2VzQ29udGVudCI6WyJyZWRpc0N0cmwgPSByZXF1aXJlIFwiI3tfX2Rpcm5hbWV9Ly4uL2NvbnRyb2xsZXJzL3JlZGlzQ3RybFwiXG4jIHtwb3N0Q2FjaGUsIGdldENhY2hlfSA9IHJlZGlzQ3RybFxuXG5tb2R1bGUuZXhwb3J0cyA9IChhcHApLT5cblxuICBhcHAucm91dGUgJy9hcGkvcmVkaXMnXG4gICAgLnBvc3QgKHJlcSwgcmVzKS0+XG4gICAgICBjb25zb2xlLmxvZyByZXEuYm9keVxuICAgICAgcmVkaXNDdHJsLnBvc3RDYWNoZSByZXEuYm9keVxuICAgICAgcmVzXG4gICAgICAgIC5zdGF0dXMgMjAxXG4gICAgICAgIC5lbmQoKVxuICAgIC5nZXQgKHJlcSwgcmVzKS0+XG4gICAgICByZWRpc0N0cmwuZ2V0Q2FjaGUoKVxuICAgICAgICAudGhlbiAoYWxsQ2FjaGUpLT5cbiAgICAgICAgICBjb25zb2xlLmxvZyBcImFsbENhY2hlXCIsIGFsbENhY2hlXG4gICAgICAgICAgcmVzXG4gICAgICAgICAgICAuc3RhdHVzIDIwMFxuICAgICAgICAgICAgLnNlbmQgYWxsQ2FjaGVcbiAgICAgICAgLmNhdGNoIChlcnIpLT5cbiAgICAgICAgICBjb25zb2xlLmxvZyBcIkVSUk9SXCIsIGVyciwgXCJSRVNcIiwgcmVzXG4iXX0=
